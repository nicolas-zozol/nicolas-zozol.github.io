{"data":{"markdownRemark":{"id":"e0dcdfce-eb36-5621-9cc8-f490735bd3eb","html":"<h1>Redux</h1>\n<h2>3 Principles</h2>\n<h3>State tree</h3>\n<ul>\n<li>All the state is one single object: the state tree</li>\n<li>\n<p>You NEVER mutate directly State tree: you must pass an <strong>Action</strong> </p>\n<ul>\n<li>keep track of every mutation</li>\n</ul>\n</li>\n<li>Read-only    </li>\n</ul>\n<h3>Actions</h3>\n<ul>\n<li>\n<p>You can't change directly the state tree</p>\n<ul>\n<li>you need to <strong>dispatch</strong> an <strong>Action</strong></li>\n</ul>\n</li>\n<li>\n<p>Action is a single object with a name and data</p>\n<ul>\n<li>it MUST have a <strong>type</strong> property</li>\n<li>it may have additional data</li>\n<li>represents how to change which data</li>\n</ul>\n</li>\n<li>Just like a function with parameters</li>\n</ul>\n<h3>Reducer</h3>\n<ul>\n<li>You modify a state by giving an <strong>Action</strong> and a <strong>Reducer</strong></li>\n<li>\n<p><strong>Action</strong> is a <em>Interface signature</em></p>\n<ul>\n<li>where state is missing</li>\n</ul>\n</li>\n<li>\n<p><strong>Reducer</strong> is the <em>method implementation</em> that changes the state</p>\n<ul>\n<li>where state is given</li>\n</ul>\n</li>\n</ul>\n<h3>pure function</h3>\n<ul>\n<li>A reducer is a pure function</li>\n<li>params are currentState &#x26; action (with its own params)</li>\n<li>a reducer returns the new state</li>\n</ul>\n<h3>Time travel</h3>\n<ul>\n<li>A given sequence of reducers will always put the app in the same state</li>\n<li>Hot code reload will restart app with the reducer sequence</li>\n</ul>\n<h3>reducer conventions</h3>\n<p> By convention: </p>\n<ul>\n<li>\n<p>If the first state is undefined, return <em>initialState</em></p>\n<ul>\n<li>and not <em>previousState</em> !</li>\n<li>usually gives a initial value to param</li>\n</ul>\n</li>\n<li>\n<p>If the action is unknown , return <em>previousState</em></p>\n<ul>\n<li>or not relevant for this reducer</li>\n</ul>\n</li>\n</ul>\n<h3>Example</h3>\n<pre><code>    export function playerFilter(state = '', action = {}) {\n      switch (action.type) {\n        case SET_PLAYER_FILTER:\n          return action.text || '';\n        default:\n          return state;\n      }\n    }\n    \n</code></pre>\n<h2>The Store</h2>\n<h3>Principles</h3>\n<p>The Store binds the 3 principles:</p>\n<ul>\n<li>holds the state</li>\n<li>lets you dispatch actions</li>\n<li>need to tell the reducers that will change state</li>\n</ul>\n<pre><code>    import {createStore} from 'redux'\n    const reducer = () => ....\n    const store = createStore(reducer);\n</code></pre>\n<h3>API</h3>\n<ul>\n<li>Stores the application state</li>\n<li><code>store.createStore(reducer)</code>: Create a store registering reducers </li>\n<li><code>store.getState()</code>: read current State</li>\n<li><code>store.dispatch(ACTION)</code>: modifies current State</li>\n<li>\n<p><code>store.subscribe(callback)</code>: react on state modification</p>\n<ul>\n<li>will print new state on the UI</li>\n</ul>\n</li>\n</ul>\n<h3>Listener</h3>\n<ul>\n<li>A store has some <code>listeners</code></li>\n<li><code>store.subscribe(listener)</code> adds a listener to the store</li>\n</ul>\n<h2>Connect</h2>\n<h4>react-redux</h4>\n<ul>\n<li><code>react-redux</code> is independant from redux</li>\n<li>\n<p>It helps using redux with react logic</p>\n<ul>\n<li>\n<p>but it's not mandatory</p>\n</li>\n</ul>\n</li>\n</ul>\n<h3>Pure components and Container components</h3>\n<ul>\n<li>\n<p>Pure components are describe with pure functions</p>\n<ul>\n<li>easy unit test</li>\n<li>most of components</li>\n</ul>\n</li>\n<li>\n<p>Container components fetch data and/or change the state</p>\n<ul>\n<li>higher order component</li>\n<li>needs usually integration tests</li>\n<li>fewer components</li>\n</ul>\n</li>\n</ul>\n<h3>Higher Order Component</h3>\n<blockquote>\n<p>A higher-order component is just a <strong>function</strong> that takes an existing component and returns another component that wraps it.</p>\n</blockquote>\n<h3>connect()</h3>\n<p><a href=\"http://www.sohamkamani.com/blog/2017/03/31/react-redux-connect-explained/\">Connect explained</a></p>\n<h3>mappings</h3>\n<pre><code>    export default connect(\n      mapStateToProps,\n      mapDispatchToProps\n    )(TodoItem)\n</code></pre>\n<ul>\n<li>\n<p>We export an higher order component</p>\n<ul>\n<li>higher than TodoItem</li>\n</ul>\n</li>\n<li>\n<p><code>mapStateToProps</code>: how to read the store</p>\n</li>\n<li>\n<p><code>mapDispatchToProps</code>: how to change the store</p>\n</li>\n</ul>\n<h2>Conclusion</h2>\n<ul>\n<li>Redux is dead-simple</li>\n<li><code>connect</code> is more complex to understand</li>\n<li>Code is much more maintanable</li>\n<li>No need to trace the props flow</li>\n<li>\n<p>Better performances</p>\n<ul>\n<li><a href=\"https://github.com/reactjs/redux/issues/419#issuecomment-129188175\">No need to  re-renders of middle-level components</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Redux","author":null,"date":"Nov 17th 2018","tags":["javascript","hard","front"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA3XAAAN1wFCKJt4AAACOUlEQVQ4y42Uz0tUURTH33szgYoDSQwZunFTYBs3IoEbQbD3SKQsKHDpzoWBzisUyoUlbqpdQUYgKCKFNBSF9w66iVYxgim68Mci/AtatBs/d965b96bQhz4cs8793u+58e9dxwn8Sv4OloD7dZ8ajz01Tq+deyJ2B+oKoc958wfoq6INkDeAD/CQI0idg+RUhjob6EkPI+YQ7An9jIiH+s5iBnRebEzZ4pSlSdrZ+jrI8RzUSXapbrGSERdJ9ExaJaR/CsUyuxMRlkn8a1IpTlEWtKdKNpWN2WWHnY8f5MxngV2VtYFBJ+K4CbfJySZwzeJgI/PdOAJN5PSiU/WtOXbYetFCFNSwd6joFRh7w0B7/D/xLcPXlBpU0rUtp8QasbZx/cz8Fr22gm+WtdyB/gEDoi5ZltPnqwr9hqCbyH1gnJ6zlEViPTAG5DDG8P+zdoa300cQtT32ShLpR7YwjckgRlbBYKHz+/uVAr2UHz9ioKKYnuOHS6EDwQ+qN039Xh68DuzUzOSJCviZbi/2G+TuEtgF3QkZ2JQhNSdeFrDs8PbFVotJXi3ET4GObleWfF/AYGdjb3MzE+P2lOj/Av4+hG+KBUOEvQXvi/fTZLYcLdBV2rYrLcQOIHYWXeiV9h7T5I/BA/953UtIPZVCnFNBhMk71eNmWeFwGeISxA0CQ4JWMV/GdwomHtYvY/6JbxN9ou1JxrdlqpoGP/LqDxiIwQ9ROgOyCeqzRsfYjPwn8DrSxxiNf4UDlZoWZR7pssAAAAASUVORK5CYII=","aspectRatio":1.2603174603174603,"src":"/static/fd44b6dd1a0b8b078aa5d12ff4afe04b/54c56/redux.png","srcSet":"/static/fd44b6dd1a0b8b078aa5d12ff4afe04b/16256/redux.png 175w,\n/static/fd44b6dd1a0b8b078aa5d12ff4afe04b/73897/redux.png 350w,\n/static/fd44b6dd1a0b8b078aa5d12ff4afe04b/54c56/redux.png 700w,\n/static/fd44b6dd1a0b8b078aa5d12ff4afe04b/b6e3c/redux.png 794w","sizes":"(max-width: 700px) 100vw, 700px"}}}}},"file":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAAEz0lEQVQ4ywHEBDv7APbRTtWzT9azU9a1V9a1XNa2Xtm6YtGpWbWETryMVZxmRoxTPKVyR9a0ati9dti8d9q+e9q/ftrCgvjjkADVtV0xFEgwEkkzFUs0FUszFU0+HU10Ojl6PDl/QkF8Pzl+QTp7OzZ5PDpOKFdGIl1KJl5LJWFRK2TeypcA1bhsMxRNMhNONRVQNxdRNRVUTiROiUc9jk9Fi01DjU5DkU9EjkxDiEQ0aDNOTiZqVippVytsXTFw4c6mANe9ez4cVT4bV0IeWkUfWkIfYWMvTIA8LndAOHFBOm8/OGw3L3Y4MII8Lnk8TWQ1ems4em05fXQ/guXUuADaw4tLJWFMJWJQKGVTKWZUKGpvRVljRTtgUlCKiopnYmIzIB16b25jQDhwOUZ7RIx7Q4l7Q4p+Rorm1b4A3cibXDBvXjF1YTN5ZDV9azp9Xj9ETiohTR4VTyAZRhsVQxgTRyonPiQgWj9BeD96f0SIfkOFgUeO5NC3AOLOrXA8fnI6bn4/aIVAYo1CT4o5MIgzKpA8Mow5MJZANZA9Mo05LGokGlsjFnM7KmEvI1QlIWw2S9/IqQDl07p9RYhUKC5OIwtVJAxfKxKBQSuTUT56Oie0Ykh4PSsSAgBBKyF6SDRMHglWLAxIIgk2FgI/HAjNsocA48+2fkWKdT9+YDJVSSI2OxgNjFAx2Zt5v4ho+aeAiF1IAAAABw4QlmVSazMcVikRRB0RUSk3YjFZ0Jl9AODJrXxDh3pBioFHj7lxjHhCN6BhP/Cmg+mhfeSceeOad4dYQ3lWRrR5X710V3tHJFYqMG88hW87gNOogwDew6R6Q4ZvOoaZW4D/sYmfXkZ6RirtpYLjnHrimHXglHHsnnr7sYrAgWWuc1huQRhRJylgMnViNXLUs4UA2r2adUCCZzaCpmV8/6yBomBtXDAr2pRu25R02pV11pJz0opq3JZ02I5vZzcdQxwMVSpXVixuVi1ozql3ANe3kHA9fF8xfJlYc/aXaJpadFkuasuJcd+TcMV7acR/b9GFaOKee9uOaXQ2N0MgW00mZEYiXkciXMihbADTsYVhM3NZLXK1bXD4mGmjYnBHIW2IUWbfl3Hfl3felHPinXvRimvKakilZ11NMlY3FEs0FE8yFEvCmV8Ay6Z4aThpxHdu7JNw75RvzHxsSSNeRCFeu3Zo35Fv3JN2zX5gu1s/z3NQxndWZ1JGIxIlIgVDIghAvJJTAL6bbIRJX/SVa+mQb+uUceOJZ0YYSF5Jct6ghtR6VtB3V8psTNN5V9eDXtZ5WbCdmCIbFz0VKSUJP7qMSgC1kF2CSFr1m3bplHPtlXPafmAwEhtsUkzekHDfj2jej2rbimXcimXUfFnnt6m2t7UVERBbKRZKHiW3hj0ArodQcz5P9Jhx6ZNy7pVz1H1eOBgKYkc84LOh3Ipl2oll3Yxn14RgrIN39vXztbKwExERVCUZViYVuoQpALCGR1stSeyTceqTce6Vc8x1VzwbEE8vIcu4r96ScNuMZuOSa8WIboqBgPjz7c7KxiEeG1cmF1MlFbeBIQDSnj6ybjLhh1/slnTrk3HZelSwciS1fybFkDjYmTvWlDPYlTLMkzTEkjferFHTo0itfSO6fyO3fyTQlivkmQs/oLxE6AAAAABJRU5ErkJggg==","aspectRatio":1,"src":"/static/857373fa3e098e011b629566b14e4f4b/fdbb0/nicolas-zozol.png","srcSet":"/static/857373fa3e098e011b629566b14e4f4b/e22c9/nicolas-zozol.png 75w,\n/static/857373fa3e098e011b629566b14e4f4b/d3809/nicolas-zozol.png 150w,\n/static/857373fa3e098e011b629566b14e4f4b/fdbb0/nicolas-zozol.png 300w,\n/static/857373fa3e098e011b629566b14e4f4b/b5207/nicolas-zozol.png 450w,\n/static/857373fa3e098e011b629566b14e4f4b/59139/nicolas-zozol.png 600w,\n/static/857373fa3e098e011b629566b14e4f4b/728bb/nicolas-zozol.png 1080w","sizes":"(max-width: 300px) 100vw, 300px"}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"redux","imageUrl":"nicolas-zozol.png"}}