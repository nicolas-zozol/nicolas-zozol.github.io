{"data":{"markdownRemark":{"id":"3d8b8dae-9509-57f2-be1e-c6d9209b802b","html":"<h1>Javascript Build</h1>\n<h2>Objectifs</h2>\n<ul>\n<li>\n<p>Gestion des dépendances : jQuery, angular...</p>\n</li>\n<li>\n<p>Eviter l'import de 50 <code>&#x3C;script></code> dans une page</p>\n<ul>\n<li>performance</li>\n<li>ordre des scripts</li>\n</ul>\n</li>\n<li>\n<p>Faire des opérations courantes</p>\n<ul>\n<li>déplacer des fichiers</li>\n<li>concaténer, minifer</li>\n</ul>\n</li>\n<li>\n<p>Résoudre plusieurs problèmes courants</p>\n<ul>\n<li>Transpiler sass, coffeescript, typescript, haml</li>\n<li>chargement de template</li>\n<li>Linters, lancement de tests</li>\n</ul>\n</li>\n</ul>\n<h2>Node JS</h2>\n<ul>\n<li>\n<p>Execute du code Javascript</p>\n<ul>\n<li>node myFile.js</li>\n<li>utilise V8</li>\n</ul>\n</li>\n<li>\n<p>Créer un serveur d'application</p>\n<ul>\n<li>Node</li>\n<li>Connect : serveur</li>\n<li>Express :framework</li>\n<li>Mongoose : ORM</li>\n<li>MongoDB</li>\n</ul>\n</li>\n</ul>\n<h2>Gestion des dépendances</h2>\n<h4>NPM</h4>\n<ul>\n<li>NodeJS est packagé avec NPM</li>\n<li>Necessite un fichier <code>package.json</code></li>\n<li>\n<p>NPM gère des modules de type CommonJS</p>\n<ul>\n<li><code>npm install myModule</code></li>\n<li><code>require(\"myModule\")</code></li>\n</ul>\n</li>\n<li>\n<p>NPM regroupe les dépendances d'un projet dans <code>package.json</code></p>\n<ul>\n<li><code>npm install --save myModule</code></li>\n</ul>\n</li>\n</ul>\n<h3>Bower</h3>\n<ul>\n<li>NPM gère les dépendances du serveur</li>\n<li>Creation d'un fichier <code>bower.json</code> equivalent</li>\n<li>\n<p>Bower gère les dépendances du navigateuur</p>\n<ul>\n<li>jamais du server node</li>\n</ul>\n</li>\n<li>Obsolète aujourd'hui</li>\n</ul>\n<h3>Graphe de dépendance</h3>\n<p>Les outils moderne :</p>\n<ul>\n<li>Construisent un graphe des libs utilisées</li>\n<li>Piochent dans <code>package.json</code></li>\n</ul>\n<pre><code>    // Building a graph with JS or Html\n    var userModule = require('./user-module');\n    var template = require('./customer-optional-template.html');\n    \n    function DisplayUserModule(){\n        // Module code\n    }\n    \n    //Creating a module for current file\n    module.exports = DisplayUserModule;\n</code></pre>\n<h2>L'ecosystème</h2>\n<h4>Modules</h4>\n<ul>\n<li>\n<p>AMD : RequireJS ; obsolète</p>\n</li>\n<li>\n<p>CommonJS : NodeJS, Browserify sur browser</p>\n</li>\n<li>\n<p>ES 2015</p>\n</li>\n<li>\n<p>SystemJS : AMD + CommonJS + ES 2015</p>\n</li>\n<li>\n<p>ES2015 est disponible sur Node JS 4</p>\n<ul>\n<li>Common JS tend aussi à être obsolète</li>\n</ul>\n</li>\n</ul>\n<h3>Exemple de modules : Common JS</h3>\n<p>Création du premier module :</p>\n<pre><code>    // salute.js\n    var MySalute = \"Hello\";\n    module.exports = MySalute;\n    \n</code></pre>\n<p>Création d'un deuxième module appelant le premier :\n<br>\n// world.js\nvar MySalute = require(\"./salute\");\nvar Result = MySalute + \" world!\";\nmodule.exports = Result;</p>\n<p>!info : Utilisation de mots <em>non-clés</em> <code>module</code> et <code>exports</code></p>\n<h3>Exemple de modules : ES 2015</h3>\n<p>Création du premier module :</p>\n<pre><code>    // salute.js\n    var MySalute = \"Hello\";\n    // 'default' means we export only one object\n    export default MySalute;\n    \n</code></pre>\n<p>Création d'un deuxième module appelant le premier :\n<br>\n// world.js\nimport MySalute from './salute';\nvar Result = MySalute + \" world!\";\nvar OtherResult = MySalute + \" guy!\";\nexport Result;\nexport OtherResult;</p>\n<h3>Transpilers</h3>\n<ul>\n<li>\n<p>CoffeeScript : mode Ruby ; précureur</p>\n</li>\n<li>\n<p>TypedScript : </p>\n<ul>\n<li>typé, proche de Java</li>\n<li>Surcouche de ES2015 (dont les modules)</li>\n</ul>\n</li>\n<li>\n<p>Sass, Less : </p>\n<ul>\n<li>Simplifie les CSS : variables, nesting</li>\n<li>Sass est top pour le responsive</li>\n</ul>\n</li>\n</ul>\n<h2>Build</h2>\n<ul>\n<li>\n<p>Grunt / Gulp : automatise les tâches (tranpile, minification, tests)</p>\n<ul>\n<li>grunt : declaratif (json)</li>\n<li>gulp : pure code javascript</li>\n</ul>\n</li>\n<li>Webpack : Alternative à gulp + browserify</li>\n<li>JSPM + SystemJS : Alternative à npm + gulp + browerify</li>\n</ul>\n<h3>exemple Gulp</h3>\n<pre><code>    // gulpfile.js\n    var gulp = require('gulp');\n    var tsify =  require('tsify'); //... need all npm dev-dependencies\n    \n    function bundle() {\n        browserify({debug:true})\n                .transform(stringify, {\n                    appliesTo: { includeExtensions: ['.hjs', '.html', '.txt'] }\n                })\n                .add('index.ts')\n                .plugin(tsify)\n                .bundle()\n                .on('error', function (error) { console.error(error.toString()); })\n                .pipe(exorcist('./dist/app-build.js.map'))\n                .pipe(vinylSourceStream('./dist/app-build.js'))\n                .pipe(gulp.dest('./'));\n    }\n    gulp.task('by', bundle);\n    \n    \n</code></pre>\n<p>Execute : `$> gulp by<br>\n</p>\n<h2>Autres outils</h2>\n<ul>\n<li>Jasmine, Karma : outils de tests unitaires automatique</li>\n<li>Selenium, Protractor : tests d'intégration</li>\n<li>PhoneGap : HTML5 sur mobile</li>\n<li>JS Lint &#x26; JS Hint : Equivalent de checkstyle</li>\n</ul>","frontmatter":{"title":"Javascript Build","author":"John Doe","date":"Dec 4th 2018","tags":["javascript","hard","back","front"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHj6ncpgf/EABgQAAIDAAAAAAAAAAAAAAAAAAABAhAx/9oACAEBAAEFAlcRaf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAAgMv/aAAgBAQAGPwIlf//EABwQAQACAgMBAAAAAAAAAAAAAAEAESGRMVFx4f/aAAgBAQABPyF5+RFbpqo+O5ygHPqOGif/2gAMAwEAAgADAAAAEKw//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QCf/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/EGf/xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhYTFBcf/aAAgBAQABPxCViiehI/cAg7rODEMSUKJ4R00KFcua8AOt/9k=","aspectRatio":1.7777777777777777,"src":"/static/e834516103414267c698d99dec28c2c0/ca4e2/javascript.jpg","srcSet":"/static/e834516103414267c698d99dec28c2c0/fbb42/javascript.jpg 175w,\n/static/e834516103414267c698d99dec28c2c0/d4326/javascript.jpg 350w,\n/static/e834516103414267c698d99dec28c2c0/ca4e2/javascript.jpg 700w,\n/static/e834516103414267c698d99dec28c2c0/94e62/javascript.jpg 1050w,\n/static/e834516103414267c698d99dec28c2c0/b191c/javascript.jpg 1280w","sizes":"(max-width: 700px) 100vw, 700px"}}}}},"file":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBAgQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAeA9Ghc4wSjFWAgP/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIAEBEgIf/aAAgBAQABBQKOoFs2RB3Qmv/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABkQAAEFAAAAAAAAAAAAAAAAAAEAEBEhMP/aAAgBAQAGPwJQLcYf/8QAGxABAQEAAgMAAAAAAAAAAAAAAREAECExcYH/2gAIAQEAAT8hy9fbJGcMG9zuZmCgPLkj94s7Mi14/9oADAMBAAIAAwAAABDgKvL/xAAXEQADAQAAAAAAAAAAAAAAAAABESBB/9oACAEDAQE/EAtj/8QAFhEAAwAAAAAAAAAAAAAAAAAAAREg/9oACAECAQE/EC4//8QAGxABAAMBAQEBAAAAAAAAAAAAAQARITFREEH/2gAIAQEAAT8QqcjGPpiIujXwmBoQABmnBmpSUTBXlBhb+wSEROJDyXezu+z/2Q==","aspectRatio":0.665625,"src":"/static/012173bbab7e0008c24bf8ba21bd68f0/53b4a/john.jpg","srcSet":"/static/012173bbab7e0008c24bf8ba21bd68f0/bf99b/john.jpg 75w,\n/static/012173bbab7e0008c24bf8ba21bd68f0/9d7df/john.jpg 150w,\n/static/012173bbab7e0008c24bf8ba21bd68f0/53b4a/john.jpg 300w,\n/static/012173bbab7e0008c24bf8ba21bd68f0/88085/john.jpg 426w","sizes":"(max-width: 300px) 100vw, 300px"}}}},"pageContext":{"slug":"javascript-build","imageUrl":"john.jpg"}}